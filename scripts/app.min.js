this.JST=this.JST||{},this.JST.application=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){return"<h1>Hello</h1>\n"},useData:!0}),this.JST.create=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){return'\n<i class="fa fa-plus-square"></i>\n\n<input type="text" name="message" placeholder-"Write what you\'ve got to say">\n\n'},useData:!0}),this.JST.login=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){return'<div class="login-container">\n<h1>Please enter a username</h1>\n<input type="text" name="username">\n<input type="submit">\n</div>'},useData:!0}),this.JST["message/item-view"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,s){var n,r=t.helperMissing,a="function",l=this.escapeExpression;return'<div class="item-container">\n<h1>'+l((n=null!=(n=t.username||(null!=e?e.username:e))?n:r,typeof n===a?n.call(e,{name:"username",hash:{},data:s}):n))+"</h1>\n<p>"+l((n=null!=(n=t.message||(null!=e?e.message:e))?n:r,typeof n===a?n.call(e,{name:"message",hash:{},data:s}):n))+'</p>\n</div>\n\n<p class="created">Sent: '+l((n=null!=(n=t.created||(null!=e?e.created:e))?n:r,typeof n===a?n.call(e,{name:"created",hash:{},data:s}):n))+"</p>\n\n\n"},useData:!0}),require.register("main",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var n=t("router"),r=s(n);$(document).ready(function(){new r["default"];Backbone.history.start()})}),require.register("router",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("models/messages/model-collection"),r=s(n),a=t("models/users/user"),l=s(a),o=t("views/messages/index"),u=s(o),c=Backbone.Router.extend({routes:{"":"index"},logSomething:function(){console.log("something")},initialize:function(){$("#container").html(JST.application),this.messages=new r["default"],this.user=new l["default"]},index:function(){var e=new u["default"]({collection:this.messages,model:this.user});this.messages.fetch(),this.showView(e)},showView:function(e){return this.currentView&&this.currentView.remove(),this.currentView=e,$("#container").html(e.render().el),e}});e["default"]=c,i.exports=e["default"]}),require.register("models/base-view",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.View.extend({render:function(){return $("#container").append(this.render().el),this}});e["default"]=s,i.exports=e["default"]}),require.register("views/base-view",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.View.extend({render:function(){return this.$el.html(this.template()),this}});e["default"]=s,i.exports=e["default"]}),require.register("views/collection-view",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.View.extend({initialize:function(){this.listenTo(this.collection,"add",this.addChild),this.listenTo(this.collection,"remove",this.removeChild),this.listenTo(this.collection,"sort",this.sortChildren),this.children=[]},addChild:function(e,t){var i=t.indexOf(e),s=this.ItemViewConstructor||Backbone.View,n=new s({model:e});if(n.render(),this.children.splice(i,0,n),i<this.children.length-1){var r=t.at(i+1),a=_.findWhere(this.children,{model:r});a?a.$el.before(n.el):this.$el.append(n.el)}},removeChild:function(e,t){var i=_.findWhere(this.children,{model:e}),s=this.children.indexOf(i);this.children.splice(s,1),i.remove()},sortChildren:function(){var e=this,t=this.collection.map(function(t){var i=_.findWhere(e.children,{model:t});return i.el});this.$el.append(t)},remove:function(){_.invoke(this.children,"remove"),Backbone.View.prototype.remove.apply(this,arguments)}});e["default"]=s,i.exports=e["default"]}),require.register("views/login",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("views/base-view"),r=s(n),a=r["default"].extend({tagName:"form",className:"login-view",template:JST.login,events:{submit:"createUser"},createUser:function(e){e.preventDefault(),this.model.set(this.getInfo()),console.log(this.model),this.remove()},getInfo:function(){var e={},t=this.$el.serializeArray();return t.forEach(function(t){e[t.name]=t.value}),e}});e["default"]=a,i.exports=e["default"]}),require.register("models/messages/message",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.Model.extend({idAttribute:"_id",defaults:function(){return{message:"",createdAt:Date.now()}}});e["default"]=s,i.exports=e["default"]}),require.register("models/messages/model-collection",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("models/messages/message"),r=s(n),a=Backbone.Collection.extend({url:"http://tiny-lasagna-server.herokuapp.com/collections/messages",model:r["default"],comparator:function(e,t){return e.get("_id")>t.get("_id")?1:e.get("_id")<t.get("_id")?-1:0}});e["default"]=a,i.exports=e["default"]}),require.register("models/users/user",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.Model.extend({defaults:{username:"Guest"}});e["default"]=s,i.exports=e["default"]}),require.register("views/messages/create",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("views/base-view"),r=s(n),a=r["default"].extend({tagName:"form",className:"create-form",template:JST.create,events:{submit:"createMessage","click .fa-plus-square":"createMessage"},createMessage:function(e){e.preventDefault(),this.collection.create(this.getInfo(),{wait:!0}),console.log(this.getInfo()),this.$("input").val("")},getInfo:function(){var e=this,t={},i=this.$el.serializeArray();return i.forEach(function(i){t[i.name]=i.value,t.username=e.model.get("username")}),t}});e["default"]=a,i.exports=e["default"]}),require.register("views/messages/index",function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("views/base-view"),r=s(n),a=t("views/collection-view"),l=s(a),o=t("views/messages/item"),u=s(o),c=t("views/messages/create"),d=s(c),m=t("views/login"),h=s(m),f=l["default"].extend({tagName:"ul",className:"list-view",ItemViewConstructor:u["default"]}),p=r["default"].extend({initialize:function(){window.setInterval(this.collection.fetch.bind(this.collection),5e3),this.messageCreateView=new d["default"]({collection:this.collection,model:this.model}),this.messageListView=new f({collection:this.collection}),this.loginView=new h["default"]({model:this.model})},render:function(){return this.$el.append(this.messageListView.render().el),this.$el.append(this.messageCreateView.render().el),this.$el.append(this.loginView.render().el),this.$el.append('<div id="bottom"></div>'),$("#bottom").scrollTop(),this},remove:function(){this.messageCreateView.remove(),this.messageListView.remove(),this.loginView.remove(),Backbone.View.prototype.remove.apply(this,arguments)}});e["default"]=p,i.exports=e["default"]}),require.register("views/messages/item",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Backbone.View.extend({tagName:"li",className:"list-item",template:JST["message/item-view"],render:function(){var e=this.model.toJSON();return e.created=moment(e.createdAt).format("ddd, MMM DD, h:mm:ss"),this.$el.html(this.template(e)),this}});e["default"]=s,i.exports=e["default"]});